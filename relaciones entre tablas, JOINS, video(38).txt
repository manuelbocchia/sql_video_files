Hola qué tal YouTube videntes bienvenidos una vez más a este curso de Oracle sql desde cero en el día de hoy vamos a trabajar con las relaciones entre tablas como sabemos al crear una base de datos se deben configurar tablas separadas para diferentes tipos de entidades por ejemplo cuando creamos una tabla para almacenar clientes una tabla para almacenar pedidos productos Esto es lo que se conoce como entidades de base de datos pero también necesitamos tener relaciones entre estas tablas como les mencionaba en el ejemplo anterior los clientes por ejemplo realizan pedidos Y estos pedidos a su vez contienen elementos todo esto conlleva una relación cuando se configura la base de datos al seleccionar datos de varias tablas con relaciones en sql se utiliza la funcionalidad conocida como join la cual eh une la selección de dos o más tablas en una misma consulta realizando la misma a las tablas que ya tengan preconfigurada esta relación en entre Sí Dentro de los tipos de relaciones de base de datos Está la relación de uno a uno que es un tipo de relación en donde se enlazan dos o más tablas Que tengan un único registro en común entre ambas por ejemplo como vemos acá una base de datos que contiene una tabla que se llama estudiantes contiene un campo que se llama ID de estudiante este ID pues está enlazado a otra tabla que se llama información de contacto en donde solo hace relación a ese único campo que contiene ID de estudiante en resumen los estudiantes solo pueden tener un ID de estudiante por cada estudiante esto es un ejemplo de relación uno a uno existe también la relación uno a muchos que es la que maneja el enlace de un registro de una tabla con varios registros de una segunda tabla en este ejemplo vemos una tabla que se llama clientes contiene un campo que se llama ID del cliente y este a su vez está enlazado en una tabla que se llama pedidos con el campo ID del cliente a través de este enlace en la tabla pedidos se pueden consultar todos los pedidos que ha hecho este cliente enlazado a través del campo ID del cliente en resumen un cliente puede tener muchos pedidos sin embargo los pedidos solo pueden ser únicos por cada cliente Este es el ejemplo de la relación uno a muchos en la relación muchos a muchos podemos ver que mediante la relación entre dos o más tablas pues existen registros relacionados tantos haya en una tabla como lo haya en las demás siempre y cuando estén ya relacionadas entre sí por ejemplo en este caso vemos una tabla de estudiantes que está enlazada a la tabla matrículas y esta su vez enlazada la tabla clases en este caso pues podemos resumir que un estudiante contiene varias matrículas y que a su vez puede estar inscrito en varias clases del mismo modo en las clases puede haber varios estudiantes inscritos con varias matrículas como ven la relación que se da entre las tablas tipo mucho a mucho pues permite que todos los registros de cada tabla estén relacionados entre sí tanto con las tablas de la izquierda como con las tablas de la derecha si se fijan en la imagen que nos especifica claves externas señalándolas o claves foráneas es un tema que aún no lo hemos visto pero ya lo veremos en su momento cuando estemos viendo ya los ejemplos de relaciones entre tablas las relaciones de autorreferencia o relaciones autor lo que indica es que entre dos tablas pueden ser consultados simultáneamente los mismos valores de diferentes entidades en este caso vemos la relación entre una tabla empleados y gerentes si se fijan hay un campo que se llama ID del gerente que está relacionado a otro campo de la tabla gerentes que se llama ID del empleado pero del mismo modo los gerentes tienen su ID de empleado al igual que en la tabla empleados aparece un ID del gerente lo que indica que un gerente de igual modo es un empleado al igual que en la tabla empleados pues maneja un ID del gerente puede ser también de cualquier otro puesto en la empresa en este caso tomamos gerentes Pero puede ser también empleados de otro tipo de nivel sin embargo las relaciones de autorreferentes como veremos en ejemplos más adelante pues nos permiten hacer consultas enlazando una tabla con la otra aut diferenciándola es decir tomando como enlace el mismo campo que está definido en ambas tablas Existen varios tipos de joints o uniones entre tablas Al momento de hacer consultas que nos permiten traer datos relacionando dos o más tablas entre estos está el Inner joint que es un tipo de enlace que devuelve todas las filas cuando hay al menos una coincidencia entre ambas tablas Recuerden que al momento de configurar nuestra base de datos pues las tablas toman un orden Al momento de almacenarse y quedan definidas como una tabla a la izquierda una tabla a la derecha y así subsecuentemente cuando utilizamos el Inner joint la consulta se genera siempre y cuando haya al menos pues una coincidencia entre ambas tablas si no existe ningún registro que coincida entre las dos tablas Pues no va a venir nada en la consulta va a ser una consulta vacía existe el el que llamamos left joint que es un tipo de enlace Que al momento de realizar una consulta nos trae todas las filas de la tabla de la izquierda y las filas que coincidan en la tabla de la derecha si no existen datos que coincidan en la tabla de la derecha pues trae solamente los datos de la tabla de la izquierda por el contrario existe Entonces el right joint que realiza la misma función que el left join es decir devuelve todas las filas de la tabla pero en este caso de la derecha y las filas coincidentes de la tabla de la izquierda si al momento de realizar la consulta no no hay ningún dato que coincida con la tabla de la izquierda Pues solo vendrán los datos de la tabla de la derecha Y por último el full join que es un enlace entre tablas cuya consulta Pues nos devuelve todas las filas de ambas tablas la izquierda y la derecha siempre y cuando coincidan los datos de una con la otra o aunque no coincidan de todos modos trae todos los datos en ambas tablas vamos de inmediato entonces a pasar a nuestro editor nuestro sql developer y nos vamos a ir a descripción del video y vamos a copiar las ejecuciones que están ahí disponibles y la vamos a pegar en nuestro editor posteriormente entonces pues ejecutamos dichas instrucciones y vemos Ya que se nos va a crear una tabla que se llama clientes y una tabla que se llama provincias luego pues se van a insertar todos estos datos que nos van a servir para los ejemplos borramos y verificamos aquí en nuestro editor de objetos que se nos creó la tabla clientes su respectivos Campos y aquí debajo está nuestra tabla de visitantes vamos a hacer un Select a nuestra tabla de clientes y vamos a hacer un segundo Select a nuestra tabla de visitantes vamos a dejarlos aquí debajo Para tenerlos ahí listos y vamos entonces a consultar los datos que contienen ambas tablas cliente y visitantes utilizando un enlace entre ambas Select punto nombre coma domicilio coma y ciudad luego colocamos de nuevo una coma vamos a colocar entonces un prefijo p punto y vamos a decirle nombre debajo pues entonces colocamos from clientes colocamos más adelante una c luego debajo vamos a decir join colocamos provincias y colocamos una p luego debajo decimos on colocamos c punto código provincia igual a p punto código colocamos punto y coma sombre todo y ejecutamos esta instrucción y aquí tenemos una consulta que nos trae los datos requeridos de ambas tablas unidas a través de la instrucción join vamos a detallar entonces la consulta que acabamos de hacer colocamos Select c. nombre cuando colocamos una c punto luego del Select estamos indicando que vamos a utilizar un prefijo este prefijo a modo de alias indica que la consulta va a venir de una primera tabla que va a tener ese prefijo c luego entonces seleccionamos un segundo campo domicilio y un tercer campo ciudad cuando no le colocamos el prefijo c al campo domicilio y al campo ciudad el sistema inmediatamente interpreta que van a pertenecer a este prefijo que colocamos al primer campo al campo nombre luego colocamos entonces un segundo prefijo p y colocamos nombre al colocar este segundo prefijo indica que ya vamos a hacer una consulta a una segunda tabla colocando p punto indicamos que ya nos vamos a ir a una segunda tabla de la cual Solamente vamos a a pedir un solo campo que es nombre luego entonces al colocar from clientes C le decimos al sistema que vamos a realizar una consulta a la tabla clientes a los campos que tengan el prefijo c es decir colocando esta C le decimos al sistema realiza el Select a la tabla clientes a los campos que tengan el prefijo c y cuáles son los campos que la tienen el campo nombre el campo domicilio y el campo ciudad si se fijan del mismo modo si colocamos c pun domicilio y de igual modos colocamos c. cudad vamos a hacer la consulta de igual modo viene el mismo resultado al realizar la consulta es decir si no colocamos el prefijo a los demás Campos solo con colocarlo en el primero es suficiente Pero de igual modo colocándolo a cada campo resulta igual la consulta Entonces cuando decimos from clientes c el sistema Busca todos los campos que que tengan esa c como prefijo y se va a la tabla indicada que es clientes y trae cada campo posteriormente entonces colocamos un join que indica que vamos a hacer el enlace a provincias p cuando decimos join provincias p le decimos al sistema enlázame a la tabla provincias que tiene el prefijo p Tráeme los campos que tengan prefijo p en este caso solamente el campo nombre tiene este prefijo por lo tanto el sistema se va a la tabla provincias y busca el campo nombre luego debemos realizar un filtro para indicar cuál es el campo que enlaza estas dos tablas como lo hacemos pues decimos on y colocamos c punto código provincia ig a p código estamos diciendo con esto que el enlace lo vamos a hacer A través de los campos código provincia de clientes igual a código de la tabla provincias por lo tanto el sistema Busca estos dos Campos y hace el enlace a través de ellos siempre y cuando claro estos Campos estén configurados de igual modo en cada tabla Si vemos en la configuración que hicimos para crear estas tablas fíjense como la tabla clientes tiene código provincia tipo number tamaño dos en la tabla provincias el campo código Igualmente es de tipo number y tamaño 2s deben tener igual configuración de tipo de dato y de tamaño los campos que van a relacionar ambas tablas si la configuración para la creación de los campos es diferente pues entonces el enlace falla y y el join no se ejecuta entonces pues para resumir hicimos una consulta a la tabla clientes y a la tabla provincias enlazadas por los campos código provincia y código digamos que quisiéramos ordenar esta consulta por el campo nombre de provincias pues le diríamos aquí debajo orderby p. nombre es decir ordéname esta consulta por el campo nombre de la tabla provincias que tiene el prefijo p colocando p. nombre el sistema Busca qué tabla tiene el prefijo p se da cuenta que es provincias Aquí está Y entonces organiza la consulta en orden alfabético por este campo aquí lo vemos y bien Eso es todo por ahora referente a realizar consultas en sql enlazando Tablas con la cláusula join pas adelante pues Seguiremos viendo más ejemplos de cómo realizar consultas con las demás cláusulas pueden ir como siempre practicando les voy a dejar esta consulta Igualmente en la descripción del video junto con el código para crear las tablas e insertar los datos del ejemplo del día de hoy Así que nos vemos en una siguiente entrega gracias por su atención y hasta pronto