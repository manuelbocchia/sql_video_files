hola que tal youtube videntes bienvenidos una vez más a este su curso de ahora college huele desde cero en el día de hoy vamos a continuar trabajando con las sub consultas vamos a ver cómo se comporta sql trabajando con las cláusulas in n iv son estas cláusulas nos permiten hacer consultas desde la base seleccionando valores alternos o seleccionando un rango de valores específicos para los ejemplos del día de hoy como siempre les dejo en la descripción del vídeo las instrucciones para la creación de las tablas con las que vamos a trabajar y las vamos a copiar y las vamos a pegar en nuestro editor justo como lo vemos aquí posteriormente debemos a ejecutar todas las instrucciones y confirmamos que se borró nuestra tabla de clientes y nuestra tabla de países que teníamos creadas de elecciones anteriores e igualmente se crearon de nuevo con las configuraciones que necesitamos para ver los ejemplos y que se insertaron los registros sí error alguno posteriormente limpiamos nuestra salida de solá y limpiamos nuestro editor vamos a hacer un select a nuestra tabla de países que acabamos de crear y los vemos los registros y vamos a hacer un selecto a nuestra tabla de clientes justo como lo vemos aquí los registros disponibles para trabajar de inmediato vamos a hacer una sub consulta con la cláusula in en donde vamos a identificar cuáles clientes tenemos en varios países vamos a hacer la consulta a nuestra tabla de países y vemos aquí los países que tenemos vamos a decirle al sistema que nos diga cuáles clientes tenemos en argentina colombia y república dominicana- vamos a elegir estos tres países y esto lo hacemos primero seleccionando los países de los que queremos saber cuántos clientes tenemos ya que esa es la consulta que funciona como consulta de filtro en la consulta hacemos entonces la consulta de filtro que sería se lee código from países entonces decimos where nombre país y como es un rango de países vamos a decirle in y vamos a indicar argentina cerramos comillas coma abrimos comillas de nuevo colocamos colombia escrito es exactamente como lo vemos aquí en la tabla ponemos comillas luego una coma y por último república dominicana cerramos el paréntesis de nuestra cláusula in y cerramos el paréntesis de la consulta colocamos punto y coma tenemos una advertencia nos faltó la comilla aquí al final de república dominicana y nos faltó tenemos un paréntesis demás vamos a quitar lo realizamos esta consulta y aquí vemos los códigos de los tres países ya tenemos los códigos de los países que necesitamos saber cuáles clientes tenemos de la tabla países ahora vamos a indicarle en consulta la que llamamos la consulta global que nos traiga los nombres de los clientes que tenemos que en estos tres países esto lo hacemos diciendo select nombre coma y colocamos domicilio para saber la dirección también y decimos from clientes luego entonces decimos where código país y aquí colocamos la cláusula y abrimos paréntesis para que nuestra segunda consulta quede como sub consulta y cerramos este paréntesis al final aquí ya encerramos la primera consulta que hicimos que nos va a traer estos códigos de los tres países que queremos saber cuáles clientes tenemos luego hacemos la consulta select nombre y domicilio de la tabla cliente es en donde el código país esté en el rango de los tres países que preguntamos en la segunda consulta que son estos tres por lo tanto cuando seleccionamos toda la consulta el sistema nos dice que hay tres clientes flexiona mi nombre y domicilio de la tabla clientes donde el código país esté dentro de el rango de estos tres países por lo tanto el sistema busca cuando le colocamos el y busca los valores que les trae esta consulta se lee código from países donde el nombre sea argentina colombia y república dominicana y esos tres valores a la cláusula y dentro de estos paréntesis lo que nos trae los tres valores de dichos clientes así es como funciona la cláusula y en sub consultas veamos ahora cómo funcionan las sub consultas con la cláusula n para esto vamos a preguntarle al sistema que nos diga en cuáles países vamos a hacer una consulta a nuestra tabla de clientes digamos que queremos saber en cuántos países tenemos un cliente que sea digamos de apellido pérez para esto pues como lo que primero necesitamos saber es el apellido que queremos buscar pues esa es nuestra consulta que va a funcionar como consulta de filtro y es la primera que debemos ejecutar por eso decimos select código país from clientes where nombre y vamos a colocar un like para que nos traiga todo lo parecido a ese apellido entonces abrimos comilla signo de % y decimos pérez cerramos signo de % y cerramos comillas colocamos punto y coma hacemos esta consulta y tenemos tres clientes con apellido pérez moya identificamos que tenemos tres clientes con apellido pérez vamos a ver entonces a qué país pertenecen fíjense que el campo código país de nuestra tabla de clientes es que nos dice los códigos del país que contienen los clientes con apellido pérez ahora vamos a ver el nombre de estos clientes para eso entonces le decimos al sistema select nombre país round países y luego decimos huerto código sea igual y aquí entonces colocamos nuestra cláusula n y entonces abrimos el paréntesis para incluir la sub consulta que hicimos al principio posteriormente como abrimos aquí con paréntesis lo cerramos al final de la sub consulta cuando seleccionamos todo y ejecutamos aquí vemos que en argentina brasil y bolivia tenemos un cliente de apellido pérez verificamos la sub consulta selecciona mi nombre de país de la tabla países en donde el código sea igual a algún registro que coincida con seleccionando código país de la tabla de clientes donde el nombre sea igual a pérez la primera consulta filtra el código en donde haya alguna coincidencia con lo que trae la sub consulta es decir cuando hacemos la sub consulta bien en los registros de código país 1 2 y 3 estos son los valores que busca el n cuando le preguntamos nombre de país de la tabla es en donde el código contenga algún valor que coincida con esta consulta como hay tres valores cuando hacemos la consulta completa nos dice cuáles son esos países en donde existen clientes de apellido pérez al igual que n existe también la cláusula son a clausuras son funciona de igual modo vamos a copiar la sub consulta anterior de n y la vamos a pegar aquí abajo y entonces en este caso solamente le cambiaríamos el n por som cuando seleccionamos y ejecutamos de igual modo el sistema nos trae los mismos tres registros ya que el sol y el n funcionan de igual modo tienen la misma funcionalidad y bien eso es todo por ahora referente a las sub consultas en ahora con sql con las cláusulas y eni y son gracias por su atención seguiremos más adelante con más lecciones de sql nos vemos en una próxima entrega hasta pronto