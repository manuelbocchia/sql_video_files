Hola qué tal youtu vientes bienvenidos una vez más a este su canal informatic config y a este curso de Oracle sql desde cero en el día de hoy vamos a seguir viendo más restricciones para configuración de tablas en Oracle sql hoy vamos a ver la restricción check esta restricción especifica los valores que acepta un campo y evitan que se ingresen valores inapropiados a la hora de ingresar datos esta configuración se maneja a nivel de campo y puede trabajar con los distintos tipos de datos que se configuran al momento de la creación de tablas para los ejemplos del día de hoy vamos a utilizar la tabla libros que ya tenemos creada vamos a comenzar haciendo un Select y aquí están los registros que hasta ahora tenemos insertados en la tabla vamos a empezar con el primer ejemplo si nos vamos aquí a nuestro explorador de objetos hacemos un clic en Tablas y buscamos nuestra tabla de libros hacemos un clic en restricciones verificamos que solamente los campos ID libro y título están configurados con la restricción de que no pueden ser nulos y que el campo ID libro pues es la clave primaria de esta tabla tal como lo vemos aquí primary key nos dice que es el campo ID libro Pues bien nos vamos entonces al editor y le decimos al sistema alter Table libros posteriormente le decimos constraint colocamos el nombre de la regla que sería C libros ponemos un guion y decimos precio esta nomenclatura c la podemos usar para describir que es un check aplicado a la tabla de libros con el nombre libros precio debajo entonces colocamos check abrimos un paréntesis colocamos el campo precio colocamos operador mayor o igual a cer y decimos que precio menor que 1000 luego cerramos paréntesis colocamos punto y coma ejecutamos la instrucción el sistema nos dice que se creó correctamente hacemos clic en la tabla libros refrescamos la ventana de restricciones y Aquí está nuestra restricción check que acabamos de crear qué fue lo que le dijimos edita la tabla libros Agrega una restricción que se llame Cali libros precio verifica que el precio sea mayor o igual a cero y que sea menor que 1000 vamos entonces a probar la restricción y le decimos insert into libros values y colocamos Entonces el nombre de un libro digamos El alquimista comilla coma comilla de nuevo especificamos el bueno primero nos primero hay que colocar el ID del libro en este caso sería tres entonces ahora ya tenemos el título Ahora sí colocamos el autor y entonces en el precio vamos a decirle 2000 y cerramos paréntesis colocamos un punto y coma y cuando ejecutamos la instrucción Pues aquí vemos cómo se nos dispara un error nos dice que el valor es más grande que el especificado en la precisión permitida para esta columna es decir en el check le estamos diciendo que no permita precios mayor a 1000 es decir verifica que el precio que se inserte sea mayor que 0 y menor que 1000 al colocar 2000 estamos violando esta parte de la restricción Pues nos genera el error vamos entonces a cambiar el precio vamos a decirle men a 1000 700 ejecutamos Ahora sí el sistema nos permite insertar la fila hacemos un Select y aquí está la tercera fila que acabamos de insertar con el precio correcto dentro del Rango que permite la restricción check la restricción check también nos permite controlar valores insertados a un campo en un Rango específico para ver cómo funciona esto vamos a borrar todo este código vamos a crear una tabla que se va a llamar días semana vamos a decirle al sistema create Table vamos a llamar días semana el primer campo se va a llamar día será de tipo entero obligatorio el segundo campo Entonces le vamos a colocar nombre de tipo marchar 2 cerramos paréntesis punto y coma y ejecutamos creamos esta pequeña tablita día semana hacemos un Select y aquí está Solamente dos Campos para mostrar Cómo funciona el ejemplo check en Rango de registros Entonces vamos a colocar una restricción inmediatamente vamos a decirle alter Table días semana le decimos at constraint ck nombre día y debajo pues le vamos a decir claro la restricción va a ser check y abrimos un paréntesis y le vamos a decir que en el campo nombre solo permita valores en el rango colocando la función in que sea lunes comilla colocamos una coma otra comilla miércoles Igualmente comilla coma comilla viernes cerramos paréntesis ejecutamos la instrucción nos dice missing wr Okay nos falta un paréntesis acá vamos a ejecutar de nuevo ahora sí nos confirma que se creó la restricción entonces hacemos un Select Al momento de insertar los nombres de los días de la semana en la tabla vamos a decirle insert into días semana Val luz y vamos a decirle que el día 1 será lunes colocamos comilla cerramos paréntesis punto y coma vamos a ejecutar nos dice el sistema que se insertó correctamente hagamos otro inserto vamos a decirle que el día 2 coma abrimos comilla va a ser jueves comilla cerramos paréntesis y colocamos punto y coma cuando ejecutamos la instrucción nos aparece Entonces el constraint check que acabamos de crear controlando el nombre que estamos colocando que no debe ser jueves si nos vamos a vamos a refrescar el editor de objetos si nos vamos a la tabla días semana en restricciones vemos que el constraint especifica que solamente se permiten Los días lunes miércoles y viernes en la tabla aquí le estamos colocando jueves por lo tanto el constraint bloquea el insert en la tabla nos dice que es un error si cambiamos Entonces el jueves por miércoles cuando ejecutamos ahí sí nos permite el insert copiamos toda esta instrucción la pegamos debajo y Aquí vamos ahora colocarle viernes ejecutamos y lo va a permitir Claro está porque esto son los tres valores que le dijimos al check que permita Al momento de insertar registros en la tabla Bueno le pusimos id2 aquí pero bueno la prueba era con el campo nombre hacemos un Select Y aquí están los tres valores que permite únicamente la restricción check en esta tabla que acabamos de crear la restricción check también nos sirve para controlar valores nulos podemos decirle igualmente al sistema alter Table días semana ad constraint ponemos c- nombre not nul Vamos a ponerle así restricción check nombre not nul y vamos a decirle check abrimos paréntesis colocamos el campo nombre is not nul cerramos paréntesis punto y coma ejecutamos la instrucción el sistema nos dice que se alteró la tabla Y se agregó correctamente la instrucción si si le decimos insert into días semana valuz abrimos paréntesis y decimos día 4ro coma colocamos el valor nul cerramos paréntesis punto y coma y el sistema inmediatamente dispara el check diciendo que no se permiten valores nulos ya que lo especificamos aquí verifica que el campo nombre de la tabla días semana no sea nulo y aquí pues nos aparece la regla y nos prohíbe el insert nul en el campo nombre de la tabla días semana y bien Eso es todo por ahora referente a la restricción check en Oracle sql continuaremos más adelante viendo más restricciones para controlar la integridad de datos en Tablas Al momento de insertar registros en las mismas agradecemos su atención y nos vemos en una siguiente entrega Hasta pronto