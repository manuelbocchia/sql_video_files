continuamos en este curso de ahora con sql desde cero vamos a seguir trabajando con las claves foráneas y las opciones de configuración como hemos visto anteriormente si intentamos eliminar un registro de una tabla que está referenciada por una llave foránea como este valor ya está enlazado a una llave primaria que ya existe pues la acción no se ejecuta y ahora que nos da un mensaje de error y no permite eliminar este registro sin embargo existe un tipo de configuración que nos permite eliminar registros de tablas en campos que tengan configuradas llaves foráneas o for en key especificando la acción que querramos que se ejecute ya el momento de eliminar estos registros para los ejemplos del día de hoy les voy a dejar en la descripción del vídeo las instrucciones para el borrado y creación de las tablas con las que vamos a trabajar así que vamos a copiar estas instrucciones y las vamos a pegar en nuestro editor de código tal como lo vemos acá y procedemos a ejecutarlo confirmamos que se mostraron las dos tablas y se crearon las nuevas con las configuraciones que necesitamos y se insertaron correctamente todos los registros limpiamos nuestro editor de código y limpiamos nuestra salida de consola vamos a proceder a hacer una consulta a nuestra tabla de clientes estos son los registros que contiene la tabla vamos de inmediato a configurar nuestro campo código provincia como llave foránea enlazándolo con nuestra tabla de provincias de inmediato seguimos alter table clientes debajo colocamos strange y decimos for in código provincia luego debajo colocamos orden y código provincia es decir estamos creando un four inc y para este campo y lo vamos a referenciar a nuestra tabla provincias en su campo código que es su llave primaria ahora debajo vamos a establecer la siguiente instrucción on delete set null colocamos punto y coma procedemos entonces a ejecutar toda esta instrucción nos dice el sistema que se alteró la tabla de clientes nuestro for inc y fue correctamente configurados procedemos a hacer entonces un select a nuestra tabla de provincias nos dice que tenemos cuatro registros vamos entonces a proceder a borrar un registro de la misma vamos a decirle delete from provincias where código igual a 3 es decir vamos a borrar el registro número 3 procedemos a borrarlo nos confirme el sistema que se borró correctamente y vamos entonces a hacer un select a nuestra tabla de clientes y que vemos acá cuando hacemos un select la tabla de clientes que ya tiene el campo código provincia enlazado a la tabla provincias nos dice que el registro número 3 que pertenece al código 102 está como null ya que es lo que configuramos aquí es decir le dijimos al sistema que colocándole un delete set no simplemente establezca la condición de que si se borra un registro de la tabla provincias en su campo código que es la llave primaria automáticamente en el campo código provincia que lo estamos poniendo como llave foránea el valor se establezca como no aquí borramos en la tabla provincias el código 3 ese código 3 que está enlazado a la tabla clientes es este que está aquí del código ciento y como se lo indicamos acá pues nos dice que como ya no existe número 3 porque lo acabamos de borrar aparece como null ya que así lo especificamos en la regla del for inc y que configuramos así que esa es una de las modalidades que usa ahora con para establecer reglas de borrado de registros en tablas que contengan llave primaria y llave foránea vamos a hacer lo siguiente vamos a limpiar nuestro editor de código y ahora vamos a colocar la siguiente instrucción alter table clientes debajo colocamos drop con strange y colocamos efe cada código provincia con esto estamos eliminando la llave foránea que configuramos anteriormente vamos ahora a colocar la siguiente instrucción alter table clientes de bajo con strange y colocamos prefijo fk guión código provincia y debajo decimos que va a ser porque desde nuestro campo código provincia hacia reference la tabla provincias en su campo código que es su llave primaria sin embargo ahora colocaremos la instrucción un delay kaskade ejecutamos toda esta instrucción el sistema nos dice se alteró correctamente la tabla vamos a hacer una consulta a nuestra tabla de provincias y ahora pues vamos a acceder a borrar un registro de esta tabla le decimos delete from provincias where código igual a 2 colocamos punto y coma ejecutamos toda esta instrucción el sistema nos dice que se borró correctamente el registro vamos entonces a hacer una consulta a la tabla de clientes y que vemos aquí que ya no existe el registro número 2 que teníamos anteriormente en esta tabla y qué es lo que pasó si no borramos nada de esta tabla pues lo que resulta es que configuramos la regla con la funcionalidad dónde lee qashqai esto significa que cuando se elimina un registro de la tabla que contiene la llave primaria que en este caso es provincias fíjense aquí como lo dijimos delete from provincias eliminamos el código 2 automáticamente la regla dice que un delete kaskade es decir elimina ese mismo registro enlazado en la tabla que contiene la llave foránea en este caso clientes que es la que alteramos por lo tanto aquí se lleva el registro número 2 eso es lo que hace la funcionalidad o un delete cast que es lo que se llama borrado en cascada vamos a proceder a realizar la siguiente consulta diciéndole el sistema select con strange guión name como table name coma con strange guión tal como delete guión root debajo de cimas front y usher strange debajo colocamos where table name igual entre comillas clientes cerramos comillas colocamos punto y coma seleccionamos nombre de la regla la tabla el tipo de regla modalidad de la regla desde la tabla reglas de usuarios en donde nuestra tabla sea clientes seleccionamos todo ejecutamos y aquí vemos entonces las reglas que ya están aplicadas a nuestra tabla de clientes vemos esta que es la llave primaria aquí en constraints type nos dice p o sea es una llave primaria y nos dice que en la regla establecer como null cuando se elimina el registro de esta llave primaria aparecen como null en las tablas que estén referidas a esa llave primaria nuestro falling código provincia que configuramos a nuestra tabla de clientes en el constraints nos aparece una r como reference o sea que está referida a una llave primaria y en la regla nos dice que está establecida como un delete qashqai es decir si se borra cualquier registro de una llave primaria a la que está enlazada de esta llave foránea igualmente serán borrados los registros de esa llave foránea es lo que indica esa regla de qashqai y bien eso es todo por ahora referente a las reglas de borrado en llaves foráneas utilizando ahora con sql más adelante seguiremos viendo más configuraciones de reglas por ahora gracias por su atención y hasta pronto