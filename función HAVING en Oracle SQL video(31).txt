Hola qué tal YouTube videntes bienvenidos una vez más a este suc curso de oracol sql desde cero como siempre a través de su canal informatic config en el día de hoy vamos a aprender a trabajar con la cláusula hing la cual nos permite seleccionar o rechazar un grupo de registros Al momento de hacer una consulta en una tabla generalmente la cláusula hing siempre va seguido de una condición de búsqueda para seleccionar ciertas filas retornadas por la cláusula gr byy la que vimos en video anterior para la práctica de el día de hoy Les voy a dejar como siempre en la descripción del video la ejecución del Código de creación inserción de datos de una tabla de clientes con la que estaremos viendo los diferentes ejemplos Así que después de irnos a la descripción y copiar el mismo Pues lo vamos a pegar en nuestro editor Y entonces vamos a proceder a ejecutar todas las instrucciones y al terminar Pues verificamos como siempre que la tabla fue creada y se insertaron correctamente todas las filas sin fallos limpiamos editor limpiamos salida de consola y hacemos un Select a la tabla y aquí están los registros con los que estaremos explorando la función hing lo primero que haremos con esta tabla de clientes es ver todos los registros que fueron insertados y lo vamos agrupar por ciudad para eso le decimos al sistema Select ciudad siempre se coloca primero el campo por el que vamos a agrupar la consulta posteriormente colocamos el segundo campo que sería provincia y después que tenemos ya los dos Campos por lo que vamos a agrupar la consulta entonces procedemos a decirle al sistema que cuente los registros con la función count recordando siempre que se coloca un asterisco entre paréntesis para decirle que va a contar todos y cada uno de los registros de la tabla Vamos a ponerle un nombre al campo que va a venir en la consulta vamos a decir que se va a llamar cantidad entre comillas dobles Recuerden que los nombres de Campos Al momento de ejecutar consultas en una tabla el nombre de campo personalizado podemos colocarlo entre comillas dobles o Igualmente podemos hacerlo sin comillas De igual forma el sistema va a colocar este nombre en el campo que va a venir en la consulta las comillas son obligatorias simplemente cuando vamos a colocar un nombre de campo con espacio si fuéramos a decirle cantidad registros en este caso s tendríamos que ponerle doble comilla Pero como solo Vamos a colocar un nombre sin espacios que se llame cantidad pues podemos hacerlo sin comillas posteriormente le decimos que haga todo esto desde la tabla clientes y entonces filtramos la consulta diciéndole al sistema que la agrupe por ciudad y con una coma le decimos que también la va a agrupar por provincia colocamos punto y coma ejecutamos la consulta y aquí está todos los registros de la tabla agrupados por ciudad y por provincia diciendo la cantidad de clientes en un campo que se llama cantidad cantidad de clientes en cada una de las ciudades y provincias bien entonces para ver cómo trabaja la función hing pues entonces lo que hacemos Es que con esta misma consulta le vamos a decir al sistema que tome en cuenta la cantidad de registros que sean mayores a uno y esto se lo decimos habing y colocamos la función count asterisco mayor que uno colocamos un punto y coma cuando ejecutamos Pues el sistema solamente nos va a traer las cantidades mayores a uno es decir las ciudades y las provincias que contengan más de un cliente es lo que está filtrando el hab selección el campo ciudad y el campo provincia cuenta todos los registros que tengan Tráemelo en un campo que se llame cantidad de la tabla clientes y agrúpalos por ciudad y provincia posteriormente le decimos toma en cuenta que solo quiero la cantidad de registros que sea mayor a uno y es lo que trae todas las cantidades que tienen más de un cliente son las que vienen en la consulta es lo que se logra colocando la función having filtra una cantidad específica de registros que ya fueron agrupados al momento de realizar la consulta veamos otro ejemplo de manejar la función having con un filtro un poco más específico el que acabamos de hacer si le decimos al sistema Select ciudad colocamos una coma y decimos asterisco from clientes y debajo le decimos Where domicilio like San Martín y decimos gr by ciudad asterisco menor que do ciudad diferente a Córdoba colocamos punto y coma vamos a ejecutar esta consulta nos dice el sistema domicilio identificador inválido colocamos mal el nombre del campo domicilio y aquí está nos trae dos Campos con un registro por cada campo que fue lo que le pedimos al sistema aquí le dijimos selección la cantidad de registros del campo ciudad de la tabla clientes en donde el domicilio contenga la dirección San Martín y luego le dijimos agrupa la consulta por ciudad tomando la cantidad de registro que sean menores a dos y especificando que la ciudad sea diferente a Córdoba y nos trae Entonces dos registros si quitamos la parte de la consulta luego de la condicional y ejecutamos solamente esta parte el sistema nos trae tres registros pero en este caso nos está trayendo la ciudad de Córdoba al colocarle el operador an y decirle que la ciudad sea diferente de Córdoba fíjense Entonces como el sistema solo trae dos registros selección el campo ciudad todos los registros que contenga de la tabla clientes en donde el domicilio sea Exactamente igual a San Martín Recuerden que cuando usamos el operador like y colocamos signo de por cento al inicio y al final del texto el sistema va a buscar lo que coincida exactamente con todo el texto posteriormente le decimos a gr por ciudad tomando solamente la cantidad de registros menores a dos y excluyendo la ciudad de Córdoba y nos trae dos registros y bien Eso es todo por el momento referente a la función hing continuaremos más adelante explorando más funcionalidades de Oracle sql Así que gracias por su atención y hasta pronto